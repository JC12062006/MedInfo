/* ===========================
   MedInfo - Historique (Tableau Responsive)
   =========================== */

/* On suppose que les variables :root sont déjà chargées via tes autres fichiers */

.medinfo-history-wrapper {
    max-width: 1120px;
    margin: 40px auto;
    padding: 20px;
    background: var(--medinfo-bg);
    border-radius: var(--medinfo-radius-xl);
    box-shadow: var(--medinfo-shadow-soft);
}

/* En-tête de section */
.medinfo-history-header {
    margin-bottom: 25px;
    border-bottom: 2px solid var(--medinfo-border-soft);
    padding-bottom: 15px;
}

.medinfo-history-header h2 {
    font-family: 'Barlow', sans-serif;
    font-size: 1.8rem;
    color: var(--medinfo-primary);
    margin: 0 0 5px 0;
}

.medinfo-history-header p {
    font-family: 'Montserrat', sans-serif;
    color: var(--medinfo-text-muted);
    font-size: 0.95rem;
    margin: 0;
}

/* ===========================
   Tableau Desktop
   =========================== */

.table-responsive {
    width: 100%;
    overflow-x: auto; /* Sécurité pour les très petits écrans */
}

.medinfo-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 10px; /* Espace entre les lignes */
    font-family: 'Montserrat', sans-serif;
}

.medinfo-table thead th {
    text-align: left;
    padding: 15px;
    font-family: 'Barlow', sans-serif;
    font-weight: 600;
    color: var(--medinfo-text-muted);
    text-transform: uppercase;
    font-size: 0.85rem;
    letter-spacing: 0.05em;
    border-bottom: 1px solid var(--medinfo-border-soft);
}

.medinfo-table tbody tr {
    background-color: var(--medinfo-bg-alt);
    transition: transform var(--medinfo-transition-fast), box-shadow var(--medinfo-transition-fast);
}

.medinfo-table tbody tr:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(77, 97, 244, 0.08); /* Ombre légère au survol */
    background-color: #FFFFFF;
}

.medinfo-table td {
    padding: 18px 15px;
    font-size: 0.95rem;
    color: var(--medinfo-text-main);
    border-top: 1px solid transparent;
    border-bottom: 1px solid transparent;
}

/* Arrondir les bords de chaque ligne (effet carte) */
.medinfo-table td:first-child {
    border-top-left-radius: 12px;
    border-bottom-left-radius: 12px;
}
.medinfo-table td:last-child {
    border-top-right-radius: 12px;
    border-bottom-right-radius: 12px;
}

/* Éléments internes (Badges, Textes) */
.date-badge {
    color: var(--medinfo-primary);
    font-weight: 600;
    display: flex;
    flex-direction: column;
    line-height: 1.2;
}

.date-badge small {
    font-weight: 400;
    color: var(--medinfo-text-muted);
    font-size: 0.8rem;
}

.constante-tag {
    display: inline-block;
    background: var(--medinfo-primary-soft);
    color: var(--medinfo-primary);
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 0.8rem;
    font-weight: 500;
    margin-right: 5px;
}

.text-muted {
    color: var(--medinfo-text-muted);
}

/* Bouton d'action dans le tableau */
.btn-table-action {
    text-decoration: none;
    background-color: transparent;
    border: 1px solid var(--medinfo-border-soft);
    color: var(--medinfo-text-muted);
    padding: 6px 12px;
    border-radius: 999px;
    font-size: 0.85rem;
    transition: all var(--medinfo-transition-fast);
    white-space: nowrap;
}

.btn-table-action:hover {
    border-color: var(--medinfo-primary);
    color: var(--medinfo-primary);
    background-color: var(--medinfo-primary-soft);
}

.empty-state {
    text-align: center;
    padding: 40px;
    color: var(--medinfo-text-muted);
    font-style: italic;
}

/* ===========================
   Version Mobile (Responsive Card View)
   =========================== */

@media (max-width: 768px) {
    .medinfo-history-wrapper {
        padding: 15px;
        background: transparent; /* Fond transparent sur mobile pour alléger */
        box-shadow: none;
    }

    .medinfo-table {
        border-spacing: 0;
    }

    /* On cache l'en-tête du tableau */
    .medinfo-table thead {
        display: none;
    }

    /* Chaque ligne devient un bloc (une carte) */
    .medinfo-table tbody tr {
        display: block;
        margin-bottom: 20px;
        background: #FFFFFF;
        border-radius: var(--medinfo-radius-lg);
        box-shadow: var(--medinfo-shadow-soft);
        padding: 15px;
        border: 1px solid var(--medinfo-border-soft);
    }

    /* Chaque cellule devient une ligne flex */
    .medinfo-table td {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid var(--medinfo-bg-alt);
        border-radius: 0 !important; /* Reset des arrondis desktop */
        text-align: right;
    }

    .medinfo-table td:last-child {
        border-bottom: none;
        padding-bottom: 0;
        margin-top: 10px;
        justify-content: center; /* Bouton centré à la fin */
    }

    /* Utilisation de l'attribut data-label pour afficher le titre de la colonne à gauche */
    .medinfo-table td::before {
        content: attr(data-label);
        float: left;
        font-weight: 600;
        color: var(--medinfo-primary);
        font-family: 'Barlow', sans-serif;
        text-transform: uppercase;
        font-size: 0.8rem;
        margin-right: 15px;
    }
    
    .btn-table-action {
        width: 100%;
        text-align: center;
        padding: 10px;
        background-color: var(--medinfo-primary);
        color: #FFFFFF;
        border: none;
    }
    
    .btn-table-action:hover {
        background-color: #3b4ed1;
        color: #FFFFFF;
    }
}